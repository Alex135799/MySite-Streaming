angular.module("toggle-switch",["ng"]).directive("toggleSwitch",["$compile",function(e){return{restrict:"EA",replace:true,require:"ngModel",scope:{isDisabled:"=",onLabel:"@",offLabel:"@",knobLabel:"@",html:"=",onChange:"&"},template:'<div class="ats-switch" ng-click="toggleSwitch()" ng-keypress="onKeyPress($event)" ng-class="{ \'disabled\': isDisabled }" role="switch" aria-checked="{{!!model}}">'+"<div class=\"switch-animate\" ng-class=\"{'switch-off': !model, 'switch-on': model}\">"+'<span class="switch-left"></span>'+'<span class="knob"></span>'+'<span class="switch-right"></span>'+"</div>"+"</div>",compile:function(n,r){if(angular.isUndefined(r.onLabel)){r.onLabel="On"}if(angular.isUndefined(r.offLabel)){r.offLabel="Off"}if(angular.isUndefined(r.knobLabel)){r.knobLabel="Â "}if(angular.isUndefined(r.isDisabled)){r.isDisabled=false}if(angular.isUndefined(r.html)){r.html=false}if(angular.isUndefined(r.tabindex)){r.tabindex=0}return function n(i,o,t,a){o.attr("tabindex",r.tabindex);i.toggleSwitch=function e(){if(!i.isDisabled){i.model=!i.model;a.$setViewValue(i.model)}i.onChange()};var l=32;i.onKeyPress=function e(n){if(n.charCode==l&&!n.altKey&&!n.ctrlKey&&!n.metaKey){i.toggleSwitch();n.preventDefault()}};a.$formatters.push(function(e){return e});a.$parsers.push(function(e){return e});a.$viewChangeListeners.push(function(){i.$eval(r.ngChange)});a.$render=function(){i.model=a.$viewValue};var s=function(n,r){n=angular.element(n);var o=r===true?"ng-bind-html":"ng-bind";n.removeAttr("ng-bind-html");n.removeAttr("ng-bind");if(angular.element(n).hasClass("switch-left"))n.attr(o,"onLabel");if(n.hasClass("knob"))n.attr(o,"knobLabel");if(n.hasClass("switch-right"))n.attr(o,"offLabel");e(n)(i,function(e,r){n.replaceWith(e)})};var c=function(e,n){angular.forEach(e[0].children[0].children,function(e,r){s(e,n)})};i.$watch("html",function(e){c(o,e)})}}}}]);(function(e){var n=function(e){var n=e.module("FSAngular",[]);n.factory("Fullscreen",["$document","$rootScope",function(n,r){var i=n[0];var o=typeof Element!=="undefined"&&"ALLOW_KEYBOARD_INPUT"in Element&&Element.ALLOW_KEYBOARD_INPUT;var t=r.$new();n.on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){t.$emit("FSFullscreen.change",a.isEnabled())});var a={$on:e.bind(t,t.$on),all:function(){a.enable(i.documentElement)},enable:function(e){if(e.requestFullScreen){e.requestFullScreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){if(/Version\/[\d]{1,2}(\.[\d]{1,2}){1}(\.(\d){1,2}){0,1} Safari/.test(navigator.userAgent)){e.webkitRequestFullscreen()}else{e.webkitRequestFullscreen(o)}}else if(e.msRequestFullscreen){e.msRequestFullscreen()}},cancel:function(){if(i.cancelFullScreen){i.cancelFullScreen()}else if(i.mozCancelFullScreen){i.mozCancelFullScreen()}else if(i.webkitExitFullscreen){i.webkitExitFullscreen()}else if(i.msExitFullscreen){i.msExitFullscreen()}},isEnabled:function(){var e=i.fullscreenElement||i.mozFullScreenElement||i.webkitFullscreenElement||i.msFullscreenElement;return e?true:false},toggleAll:function(){a.isEnabled()?a.cancel():a.all()},isSupported:function(){var e=i.documentElement;var n=e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullscreen||e.msRequestFullscreen;return n?true:false}};return a}]);n.directive("fullscreen",["Fullscreen",function(e){return{link:function(n,r,i){if(i.fullscreen){n.$watch(i.fullscreen,function(n){var i=e.isEnabled();if(n&&!i){e.enable(r[0]);r.addClass("isInFullScreen")}else if(!n&&i){e.cancel();r.removeClass("isInFullScreen")}});var o=e.$on("FSFullscreen.change",function(e,o){if(!o){n.$evalAsync(function(){n.$eval(i.fullscreen+"= false");r.removeClass("isInFullScreen")})}});n.$on("$destroy",function(){o()})}else{if(i.onlyWatchedProperty!==undefined){return}r.on("click",function(n){e.enable(r[0])})}}}}]);return n};if(typeof define==="function"&&define.amd){define("FSAngular",["angular"],function(e){return n(e)})}else if(typeof module!=="undefined"&&module.exports){module.exports=n(e.angular).name}else{n(e.angular)}})(window);!function(e,n){if(typeof module!="undefined"&&module.exports)module.exports=n();else if(typeof define=="function"&&define.amd)define(n);else this[e]=n()}("bowser",function(){var e=true;function n(n){function r(e){var r=n.match(e);return r&&r.length>1&&r[1]||""}function i(e){var r=n.match(e);return r&&r.length>1&&r[2]||""}var o=r(/(ipod|iphone|ipad)/i).toLowerCase(),t=/like android/i.test(n),a=!t&&/android/i.test(n),l=/CrOS/.test(n),s=/silk/i.test(n),c=/sailfish/i.test(n),u=/tizen/i.test(n),m=/(web|hpw)os/i.test(n),f=/windows phone/i.test(n),d=!f&&/windows/i.test(n),g=!o&&!s&&/macintosh/i.test(n),h=!a&&!c&&!u&&!m&&/linux/i.test(n),v=r(/edge\/(\d+(\.\d+)?)/i),p=r(/version\/(\d+(\.\d+)?)/i),b=/tablet/i.test(n),y=!b&&/[^-]mobi/i.test(n),w;if(/opera|opr/i.test(n)){w={name:"Opera",opera:e,version:p||r(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}}else if(/yabrowser/i.test(n)){w={name:"Yandex Browser",yandexbrowser:e,version:p||r(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}}else if(f){w={name:"Windows Phone",windowsphone:e};if(v){w.msedge=e;w.version=v}else{w.msie=e;w.version=r(/iemobile\/(\d+(\.\d+)?)/i)}}else if(/msie|trident/i.test(n)){w={name:"Internet Explorer",msie:e,version:r(/(?:msie |rv:)(\d+(\.\d+)?)/i)}}else if(l){w={name:"Chrome",chromeos:e,chromeBook:e,chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(/chrome.+? edge/i.test(n)){w={name:"Microsoft Edge",msedge:e,version:v}}else if(/chrome|crios|crmo/i.test(n)){w={name:"Chrome",chrome:e,version:r(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}}else if(o){w={name:o=="iphone"?"iPhone":o=="ipad"?"iPad":"iPod"};if(p){w.version=p}}else if(c){w={name:"Sailfish",sailfish:e,version:r(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}}else if(/seamonkey\//i.test(n)){w={name:"SeaMonkey",seamonkey:e,version:r(/seamonkey\/(\d+(\.\d+)?)/i)}}else if(/firefox|iceweasel/i.test(n)){w={name:"Firefox",firefox:e,version:r(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)};if(/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(n)){w.firefoxos=e}}else if(s){w={name:"Amazon Silk",silk:e,version:r(/silk\/(\d+(\.\d+)?)/i)}}else if(a){w={name:"Android",version:p}}else if(/phantom/i.test(n)){w={name:"PhantomJS",phantom:e,version:r(/phantomjs\/(\d+(\.\d+)?)/i)}}else if(/blackberry|\bbb\d+/i.test(n)||/rim\stablet/i.test(n)){w={name:"BlackBerry",blackberry:e,version:p||r(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}}else if(m){w={name:"WebOS",webos:e,version:p||r(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)};/touchpad\//i.test(n)&&(w.touchpad=e)}else if(/bada/i.test(n)){w={name:"Bada",bada:e,version:r(/dolfin\/(\d+(\.\d+)?)/i)}}else if(u){w={name:"Tizen",tizen:e,version:r(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||p}}else if(/safari/i.test(n)){w={name:"Safari",safari:e,version:p}}else{w={name:r(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)}}if(!w.msedge&&/(apple)?webkit/i.test(n)){w.name=w.name||"Webkit";w.webkit=e;if(!w.version&&p){w.version=p}}else if(!w.opera&&/gecko\//i.test(n)){w.name=w.name||"Gecko";w.gecko=e;w.version=w.version||r(/gecko\/(\d+(\.\d+)?)/i)}if(!w.msedge&&(a||w.silk)){w.android=e}else if(o){w[o]=e;w.ios=e}else if(d){w.windows=e}else if(g){w.mac=e}else if(h){w.linux=e}var k="";if(w.windowsphone){k=r(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i)}else if(o){k=r(/os (\d+([_\s]\d+)*) like mac os x/i);k=k.replace(/[_\s]/g,".")}else if(a){k=r(/android[ \/-](\d+(\.\d+)*)/i)}else if(w.webos){k=r(/(?:web|hpw)os\/(\d+(\.\d+)*)/i)}else if(w.blackberry){k=r(/rim\stablet\sos\s(\d+(\.\d+)*)/i)}else if(w.bada){k=r(/bada\/(\d+(\.\d+)*)/i)}else if(w.tizen){k=r(/tizen[\/\s](\d+(\.\d+)*)/i)}if(k){w.osversion=k}var S=k.split(".")[0];if(b||o=="ipad"||a&&(S==3||S==4&&!y)||w.silk){w.tablet=e}else if(y||o=="iphone"||o=="ipod"||a||w.blackberry||w.webos||w.bada){w.mobile=e}if(w.msedge||w.msie&&w.version>=10||w.yandexbrowser&&w.version>=15||w.chrome&&w.version>=20||w.firefox&&w.version>=20||w.safari&&w.version>=6||w.opera&&w.version>=10||w.ios&&w.osversion&&w.osversion.split(".")[0]>=6||w.blackberry&&w.version>=10.1){w.a=e}else if(w.msie&&w.version<10||w.chrome&&w.version<20||w.firefox&&w.version<20||w.safari&&w.version<6||w.opera&&w.version<10||w.ios&&w.osversion&&w.osversion.split(".")[0]<6){w.c=e}else w.x=e;return w}var r=n(typeof navigator!=="undefined"?navigator.userAgent:"");r.test=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(typeof i==="string"){if(i in r){return true}}}return false};r._detect=n;return r});(function(){angular.module("mySite",["ui.bootstrap","ngRoute"]).value("bowser",bowser);function e(e,n){e.when("/",{templateUrl:"/home/home.view.html",controller:"homeCtrl",controllerAs:"vm"}).when("/login",{templateUrl:"/auth/login/login.view.html",controller:"loginCtrl",controllerAs:"vm"}).when("/register",{templateUrl:"/auth/register/register.view.html",controller:"registerCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});n.html5Mode({enabled:true,requireBase:false})}angular.module("mySite").config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("mySite").service("videoManip",e);function e(){var e=function(e){var n=angular.element(document.querySelector("#"+e));n[0].pause()};var n=function(e){var n=angular.element(document.querySelector("#"+e));n[0].play()};var r=function(e){var n=angular.element(document.querySelector("#"+e));return!n[0].paused};return{pause:e,play:n,isPlaying:r}}})();(function(){angular.module("mySite").service("browserDetector",e);e.$inject=["bowser"];function e(e){var n=function(){return e.msie&&e.version<9};var r=function(){return e.msie};return{isLtIe9:n,isIe:r}}})();(function(){angular.module("mySite").service("mySiteData",e);e.$inject=["$http"];function e(e){var n=function(){return e.get("/api/blogs")};var r=function(n){return e.get("/api/blog/"+n)};var i=function(n,r){return e.post("/api/locations/"+n+"/reviews",r,{headers:{Authorization:"Bearer "+authentication.getToken()}})};return{blogs:n,blogById:r,addReviewById:i}}})();(function(){angular.module("mySite").service("authentication",e);e.$inject=["$window","$http"];function e(e,n){var r=function(n){e.localStorage["mySite-token"]=n};var i=function(){return e.localStorage["mySite-token"]};var o=function(e){return n.post("/api/register",e).success(function(e){r(e.token)})};var t=function(e){return n.post("/api/login",e).success(function(e){r(e.token)})};var a=function(){e.localStorage.removeItem("mySite-token")};var l=function(){var n=i();if(n){var r=JSON.parse(e.atob(n.split(".")[1]));return r.exp>Date.now()/1e3}else{return false}};var s=function(){if(l()){var n=i();var r=JSON.parse(e.atob(n.split(".")[1]));return{email:r.email,name:r.name,screenname:r.screenname,fbid:r.fbid,fbname:r.fbname,fbemail:r.fbemail,preferences:r.preferences}}};var c=function(e){var n=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","games.com","gmx.net","hush.com","hushmail.com","icloud.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","fastmail.fm","bellsouth.net","charter.net","comcast.net","cox.net","earthlink.net","juno.com","btinternet.com","virginmedia.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","hotmail.com","gmail.com","yahoo.com.mx","live.com.mx","yahoo.com","hotmail.es","live.com","hotmail.com.mx","prodigy.net.mx","msn.com"];return e.indexOf("@")>0&&e.indexOf("@")<e.length&&e.indexOf(".")>0&&e.indexOf(".")<e.length&&n.indexOf(e.split("@")[1])>-1};var u=function(i){return n.post("/api/addfb",i).success(function(n){e.localStorage.removeItem("mySite-token");r(n.token)})};var m=function(i){return n.post("/api/updpref",i).success(function(n){e.localStorage.removeItem("mySite-token");r(n.token)})};return{saveToken:r,getToken:i,register:o,login:t,logout:a,isLoggedIn:l,currentUser:s,isEmail:c,addFB:u,updatePreferences:m}}})();(function(){angular.module("mySite").controller("homeCtrl",e);e.$inject=["$location","browserDetector","mySiteData","authentication"];function e(e,n,r,i){var o=this;o.pageHeader={title:"Welcome to Big Al's Site!",strapline:"Where all of my dreams come true..."};o.img="/images/flower_bg.jpg";o.issueimg="/images/flower_1.png";o.currentPath=e.path();o.isLoggedIn=i.isLoggedIn();o.currentUser=i.currentUser();o.logout=function(){i.logout();o.isLoggedIn=false;e.path("/")}}})();(function(){angular.module("mySite").controller("loginCtrl",e);e.$inject=["$location","authentication"];function e(e,n){var r=this;r.pageHeader={title:"Sign in to mySite"};r.credentials={email:"",username:"",screenname:"",password:""};r.returnPage=e.search().page||"/";r.onSubmit=function(){r.formError="";if(!r.credentials.email||!r.credentials.password){r.formError="All fields required, please try again";return false}else{r.doLogin()}};r.doLogin=function(){r.formError="";n.login(r.credentials).error(function(e){r.formError=e}).then(function(){e.search("page",null);e.path(r.returnPage)})}}})();(function(){angular.module("mySite").controller("registerCtrl",e);e.$inject=["$location","authentication"];function e(e,n){var r=this;r.pageHeader={title:"Create a new account for mySite"};r.credentials={screenname:"",username:"",email:"",password:""};r.returnPage=e.search().page||"/";r.onSubmit=function(){r.formError="";if(!n.isEmail(r.credentials.email)){r.formError="Please enter a valid email address";return false}else if(!r.credentials.screenname||!r.credentials.username||!r.credentials.email||!r.credentials.password){r.formError="All fields required, please try again";return false}else if(r.credentials.username.indexOf("@")>-1){r.formError="Please do not use the character '@' in your username";return false}else{r.doRegister()}};r.doRegister=function(){r.formError="";n.register(r.credentials).error(function(e){r.formError=e}).then(function(){e.search("page",null);e.path(r.returnPage)})}}})();(function(){angular.module("mySite").directive("pageHeader",e);function e(){return{restrict:"EA",scope:{content:"=content"},templateUrl:"/common/directives/pageHeader/pageHeader.template.html"}}})();(function(){angular.module("mySite").controller("issueCtrl",e);e.$inject=["$routeParams","mySiteData","$window","authentication","$http"];function e(e,n,r,i,o){var t=this;t.ticketTypes=["JIRA","RTC"];t.ticketType="";t.loading=false;t.loaded=false;t.ticketError=false;apiStory="";t.storyNum="";t.ticket={};t.submit=function(){t.loading=true;t.loaded=false;t.ticketError=false;apiTotalStory=apiStory+t.storyNum;console.log("API: "+apiTotalStory);o.get(apiTotalStory).success(function(e){if(e.ownedByName){t.ticket=e;t.ticketError=false;t.loading=false;t.loaded=true}else{t.ticketError=true;t.loading=false;t.loaded=false}}).error(function(e,n){alert("ERROR: "+JSON.stringify(e)+" STATUS: "+n);t.loading=false})};t.changeTicketType=function(){if(t.ticketType=="JIRA"){apiStory="http://localhost:8080/ProjTrackingService/rest/proj/flerpaderp"}else if(t.ticketType=="RTC"){apiStory="http://localhost:8080/ProjTrackingService/rest/proj/story?storyNum="}else{alert("Unknown Type")}};t.pageHeader={title:"Welcome to Big Al's Issue Tracking!",strapline:"Where you can solve all your problems!"}}})();(function(){angular.module("myIssueTracking",["ui.bootstrap","ngRoute"]).value("bowser",bowser);function e(e,n){e.when("/issue",{templateUrl:"/issue_tracking/views/home.html",controller:"issueCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/"});n.html5Mode({enabled:true,requireBase:false})}angular.module("myIssueTracking",["mySite","ngTouch","FSAngular","toggle-switch"]).config(["$routeProvider","$locationProvider",e])})();(function(){angular.module("myIssueTracking").controller("issueCtrlNavbar",n).directive("navbar",e);function e(){return{restrict:"EA",templateUrl:"/issue_tracking/directives/navbar.template.html",controller:"issueCtrlNavbar",controllerAs:"vm",scope:{content:"=content",parameters:"="}}}n.$inject=["authentication","$rootScope"];function n(e,n){var r=this;r.user=e.currentUser()||{}}})();